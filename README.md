# TSTestGenerator

<!---
Compiler that processes TypeScript file and emits JavaScript code annotated with [JaVerT](https://link.springer.com/chapter/10.1007/978-3-319-63046-5_2) assertions.

The translation from types to assertions is presented in detail within the [report](https://github.com/RaduSzasz/TS2JaVerT/blob/master/Report.pdf).

## Options

- `input` -- the TypeScript file to process. This is a required argument
- `omit` -- parameters that should be omitted from the post-condition. The parameters are
specified in the form `func_id:param_name`, where `func_id` is the id of the function and
`param_name` is the name of the parameter that is to be omitted. `ret` is used for the
return value and `this` for the `this` object.
-->
Compiler that processes TypeScript file and emits JavaScript code annotated with [JaVerT](https://link.springer.com/chapter/10.1007/978-3-319-63046-5_2) assertions.

Running JaVerT on this file will find which models (values given to the symbolic variables) will 
make the given program run into an error (if it exists) and then generate Javascript files with the 
symbolic variables replaced by the values that will lead to that error, which was undetected by the 
Typescript compiler 

## Usage

#### COMPILING:
- To compile the TSTestGenerator the user needs to be in the directory of main.ts and do "tsc main.ts" 
this will compile the main.ts and the rest of the files used by it.

#### CREATING SYMBOLIC TESTS:
- After having the files compiled, if the user wants to only generate the tests still with the symbolic 
variables he will have to do "node main.js `input file`" (keep in mind that the input file needs to be in 
the same directory as the other files) this will generate a folder named "Test_`input file without extension`"
in this folder we can find the symbolic test for the constructors/methods/functions of the input file.

#### GENERATING, RUNNING AND REPLACING THE VALUES OF THE TESTS:
- If the user wants to generate the symbolic tests, run JaVerT to find which values will fail and have 
tests with the symbolic variables replaced by concrete values that will lead to an error when running
the user must have the input file in the TSTestGenerator/ directory and be in the JaVerT/environment/ 
directory after that being done the command is "./generateRunTests.sh  `input file`" this will 
generate a folder named "Test_`input file without extension`" which will have the symbolic tests
and two folders one being the concrete tests (files with the symbolic variables replaced) and the other 
being the failing models (values that given to a variable will make the program fail).

#### CLEANING:
- If after doing the testing the user wants to clean the directory he just has to do "./cleanTests.sh"
in the JaVerT/environment/ directory and it will clean what was generated by the TSTestGenerator and
JaVerT.